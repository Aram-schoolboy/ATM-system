# Bank System ‚Äî Final Project

–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–∑ –ø—è—Ç–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

- **Bank-service** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ –¥–æ–º–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å—á–µ—Ç–æ–≤ –∏ –æ–ø–µ—Ä–∞—Ü–∏–π.
- **API Gateway** ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ–µ Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Bank-service.
- **Storage-service** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π —Å–æ–±—ã—Ç–∏—è –∏–∑ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka/RabbitMQ) –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—â–∏–π –∏—Ö –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ë–î.

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å JPA/Hibernate, Spring Boot, REST API, Spring Security, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ CI.

---

## üìå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### **1. Bank-service**
–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ:
- –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (User, Account, Operation)
- –°–ª–æ–π —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –Ω–∞ –±–∞–∑–µ Hibernate/JPA (PostgreSQL)
- REST API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (DTO, –ù–ï –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏)
- –ü—É–±–ª–∏–∫–∞—Ü–∏—é —Å–æ–±—ã—Ç–∏–π –≤ Kafka/RabbitMQ:
  - `client-topic` ‚Äî —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `account-topic` ‚Äî —Å–æ–±—ã—Ç–∏—è —Å—á–µ—Ç–æ–≤

### **2. API Gateway**
–û—Ç–¥–µ–ª—å–Ω—ã–π Spring Boot —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –í–°–ï –≤—Ö–æ–¥—è—â–∏–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (Spring Security)
- –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ Bank-service
- –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–æ–ª–∏:
  - `Admin`
  - `Client`
- Gateway **–Ω–µ –∑–∞–≤–∏—Å–∏—Ç** –æ—Ç –∫–ª–∞—Å—Å–æ–≤ Bank-service ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTP.

### **3. Storage-service**
–û—Ç–¥–µ–ª—å–Ω—ã–π Spring Boot —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
- –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ Kafka/RabbitMQ —Ç–æ–ø–∏–∫–∏:
  - `client-topic`
  - `account-topic`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é PostgreSQL –±–∞–∑—É:
  - –¢–∞–±–ª–∏—Ü–∞ `client_events`
  - –¢–∞–±–ª–∏—Ü–∞ `account_events`
- Gateway –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–æ Storage.

---

## üß© –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

### **User**
- login  
- name  
- age  
- gender (enum)  
- hairColor (enum)  
- —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π (–∏–∑–º–µ–Ω—è–µ–º—ã–π)

### **Account**
- id  
- balance  
- login –≤–ª–∞–¥–µ–ª—å—Ü–∞  
- –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π  

### **Operation**
- id  
- —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏  
- —Å—É–º–º–∞  
- timestamp  
- –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏  

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`Admin`)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ñ–∏–ª—å—Ç—Ä: gender, hairColor)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π (`Client`)
- `Client` –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¢–û–õ–¨–ö–û —Å–æ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –°—á–µ—Ç–∞
- –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—á–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤
- –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —Å—á—ë—Ç—É (—Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É)
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- –°–Ω—è—Ç–∏–µ
- –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏

### –ö–æ–º–∏—Å—Å–∏–∏
- —Å–≤–æ–∏ —Å—á–µ—Ç–∞ ‚Äî **0%**
- –ø–µ—Ä–µ–≤–æ–¥ –¥—Ä—É–≥—É ‚Äî **3%**
- –æ—Å—Ç–∞–ª—å–Ω—ã–º ‚Äî **10%**

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Gateway)
- `/login` ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º  
- –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ `Admin`
- `401` / `403` ‚Äî –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –ø—Ä–∞–≤

---

## üîÅ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

Bank-service –ø—É–±–ª–∏–∫—É–µ—Ç:
- –≤ `client-topic` ‚Äî –ª—é–±–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- –≤ `account-topic` ‚Äî –ª—é–±–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—á—ë—Ç–∞  

–°–æ–æ–±—â–µ–Ω–∏—è:
- **key:** id —Å—É—â–Ω–æ—Å—Ç–∏  
- **value:** JSON —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è  

Storage-service –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö —É —Å–µ–±—è.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit-—Ç–µ—Å—Ç—ã (JUnit)
–ü—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, —Å –º–æ–∫–∞–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤:
- –°–Ω—è—Ç–∏–µ –¥–µ–Ω–µ–≥
  - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å  
  - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ ‚Üí –æ—à–∏–±–∫–∞  
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ü–µ—Ä–µ–≤–æ–¥—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–º–∏—Å—Å–∏–π

### End-to-End
–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö REST API —á–µ—Ä–µ–∑ HTTP-–∑–∞–ø—Ä–æ—Å—ã.

---

## üöÄ CI

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç GitHub Actions workflow (`.github/workflows/java.yml`), –∑–∞–ø—É—Å–∫–∞—é—â–∏–π:
- —Å–±–æ—Ä–∫—É Maven/Gradle
- —Ç–µ—Å—Ç—ã
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—é Javadoc

---

## üóÑÔ∏è –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### Bank-service
- PostgreSQL + Hibernate/JPA
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ Flyway –º–∏–≥—Ä–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –≤ `resources`

### Storage-service
- –û—Ç–¥–µ–ª—å–Ω–∞—è PostgreSQL –±–∞–∑–∞
- 2 —Ç–∞–±–ª–∏—Ü—ã: `client_events`, `account_events`

---

## üîê Spring Security (Gateway)

### –†–æ–ª–∏:
- **Admin**
  - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω–æ–≤  
  - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
  - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤  
- **Client**
  - –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–µ–±–µ –∏ —Å–≤–æ–∏–º —Å—á–µ—Ç–∞–º  
  - –¥—Ä—É–∑—å—è  
  - –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å—á–µ—Ç–∞–º  

### –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ  
- –ß—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ ‚Üí `403 Forbidden`  

---

